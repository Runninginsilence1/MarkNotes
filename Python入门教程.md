# Python入门教程
给我自己看的。
我只写值得记录的部分。

# Python变量
Python类似Java，完全支持面向对象编程。

变量都是**对象的引用**，而具体的值又被封装在变量中。
变量只能引用对象，而对象才有值。

（存疑）每个**对象有唯一的id**，通过id()函数可以检查变量中对象的id值。

Python**均为**引用赋值。

x is y 可以判断是否为变量是否引用的是同一对象，底层应该是id。

## 对象
（要我说）对象才是Python世界的基础数据类型，它是一个概念性的存在。
对象有三个固定属性：
id：唯一标识。可以认为是内存地址。
type：类型。不可变。可以通过type函数查看。不知道Py有没有接口的概念。
value：值。这里和Rust以及Kotlin的设计哲学类似。分为值可变的对象（mutable）和 值不可变的对象（immutable）

Python对于**小对象**也是避免频繁创建和回收的，这点和 Go语言不一样，我觉小对象的话无所谓。
小对象的判定标准是：
-5到256的闭区间的整数。
**只有一个单词**的string
None对象。 （存疑）
bool值

总之**值在对象中**这个概念挺重要的。

## 命名规范
大部分遵循**蛇形命名法**，小写加下划线
类名驼峰；
下划线做前缀表示私有，这一点和Java以及Go都不同；
由双下划线包裹的名称表示是给Python系统使用的，程序员一般不要动的意思。

## 数据类型
Python有四种数据类型：相比其他语言相比多了一种复数类型(complex)，用于进行复数运算。

**运算**
四则和其他的。
双星号，pow函数进行幂运算。
单除号进行精确（浮点）除法运算，
双出号向下取整。
divmod函数取模。


**None对象**
（存疑）可以暂时看为Java中的 null。

Python支持操作符重载，但是不知道支不支持程序员自己进行重载。

**内部帮助**
Python提供dir函数对类成员和属性进行查询；
提供help函数提供对应的函数的使用帮助（一般只有内置的有，又或者它就是通过读取注释实现的。）

Python的string格式化函数是一个方法，支持像其他语言一样的对**string进行格式化**。占位符类似rust，是花括号。
格式一般为：`[索引]: [标志位][宽度][. 精度][转换符]`

宽度是 整个所占的字符的个数；
精度是 保留几位小数；

Python也支持 c语言的那种格式化方式，说实话那种我用的更多。

f字符串时3.6后加入的特性，支持更好。类似kotlin的占位符了。

eval函数可以**计算字符串表达式的值**，非常的优雅方便。

## 列表 List
强大。
特点：
1. 有序化
1. go 的interface{}切片。实际上就是课存储任意类型元素
1. 元素的访问形式自由：索引，迭代，遍历；
1. 支持嵌套。
1. 可变对象（mutable）

**关于创建**
1. list函数，不常用。
1. 中括号，就是其他元素的数组一样，用**字面值**进行初始化。

**解包**
就是把list的元素全部取出来。
我他吗觉得这名字不直观。
在Python里面，这个操作是自动的。

**索引**
Python支持负数索引，从list末尾向前索引。
同时Python会**自动把越界索引处理成边界值**，方便。

**切片等同于go语言切片**

Python默认是引用赋值，copy函数也是浅拷贝
如果有深拷贝的需求的话，需要使用 deepcopy函数

## 元祖（tuple）
List的不可变版本（immutable）
除了不可变之外，大部分特点和list相同。
同时也因为不可变，性能比list更好，并且不需要考虑线程同步的问题。

zip函数和enumerate函数应该用法都比较广泛，有需要来查阅。

## 字典dict
广泛使用的结构。Java中一般用哈希表实现。
特点：
- 元素无序，因为提供了通过key来进行访问的机制；
- 对比列表和元组通过索引访问元素的方式，速度要更快。
- 键（key）必须是不可变的类型。可以通过 __hash__函数查询对应的类型是否可以作为key。

### 关于字典的解包
字典本身因为算最复杂的一种，所以他的解包用法也是最丰富的。
对于函数传参：
使用单型号传入key，个数需要与函数形参**个数**相同；
使用双星号传入value，函数形参名字与key名字相同。

这在其他语言里面没有这种用法，不过算了，知道就行。

## 集合
（个人理解）你可以把集合理解成 dict中只有key的部分。
定义和**数学中的集合是一样的**
特点：
- 唯一，无序
- 只接受 immutable对象作为元素。
- 元素可变，可迭代。
- 集合一般是用来**找出两个数据集中的共同点和差异点。**
- 和数学一样，集合主要是用来进行 交、并、差的运算的。

集合本身是 可变的（mutable）
对应的有一种冻结集合，类似元祖对比list。

集合的方法和前面那个的差异比较大，所以需要的时候记得来查询。

# 控制流
循环语句的else用于 循环表达式出现false的时候执行一次，然后退出循环。
如果并非是表达式为false则不会执行else代码块，并会直接退出。

range：在Python中range是一个函数，而在 go中range是一个关键字

推导式的用法可能用得很多，需要再看

Python中使用`raise`可以向调用方抛异常。

# Python的代码复用
函数，模块和包
函数就是字面意思；
模块通常是指一个py文件，其中包含多个逻辑上有关联的函数，**类（class）也在模块中定义；**
包是由模块和一个__init__模块组成的一个**目录**。

果然help函数是通过注释实现的。

Python的函数形参可以定义默认值：**具有默认值的参数**位置后面不能有没有默认值的参数。
可以通过`函数名.__defaults__`的方式查看函数默认参数的情况。（这里应该是把函数当成对象来处理，default则是它的一个属性）

关于实参的传递： mutable的是引用传递；immutable的是值传递；

**关于函数的不定长参数**
通过类似List和Tuple解包的方式实现：
例如 *args，args是一个可迭代的对象；
dict类的传值的话用 **kwargs
其他语言则是用`...`的语法糖代替的；

**文档字符串**
类似于其他语言的doc文档：
Java语言为在方法上方的注释；
Go语言为在函数上方的注释，第一个单词一般是函数名；
Python的则放在函数体内部的第一行开始，用**三引号**

**嵌套函数**
就是俗称的闭包。
两个最大的特点： 
函数可以**作为对象进行传递**；
内部函数可以访问到**外部调用方作用域内的变量。**

**nonlocal关键字**
因为Python里面没有**定义**变量的关键字，所以在嵌套函数内（一个新的作用域），Python解释器会认为这是一个新声明的变量；
如果你需要的直接使用外层的变量，需要加上`nonlocal`关键字。

global关键字同理

**匿名函数**
俗称的lambda表达式

## 模块
通过包名调用是为了区别名称空间，go同理；
如果要合并名称空间，导入具体的模块下的某个组件，则可以使用`from...import...`

模块目录的搜索是一个重要的部分，不过现在暂时用不到。

**模块的__name__属性**
模块有一个属性name，通常用来表示模块的名称，用于import语句来进行导入

解释器直接执行的模块（Python文件）叫做顶层模块，又叫主模块（main module）
可以用语句`if __name = '__main__'`判断当前是否为主模块。
因为Python中没有主函数（或者程序入口）的概念，但是可以用上面这个语句模拟其他语言程序入口的概念。

## 包
通过`pip`命令可以导入和卸载三方的Python包

# Python的标准库

# 面向对象
类初始化的逻辑要写到`__init__`方法里面

类的基类要写到 类名的小括号里面。

类中方法的定义的第一参数永远是代表实例本身。**需要显式声明**，名字一般是 self（约定，使用其他的不会报错，但是不规范）。

类似于Go，Python对于字段的访问权限也是通过名称本身控制的，不过有稍微有点不同：
双下划线私有；
单下划线受保护

**关于成员**
Java中通过set和get实现封装。
Python提供了一种语法糖来提升代码的可读性：
用`@property`来装饰方法，让解释器把它当成属性对待（类似Java注解）

__call__方法
语法糖，不是很重要

