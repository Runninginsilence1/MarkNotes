# Go语言单元测试

非常使用的分享！讲单元测试的内容太少了

# 通过oop思维来编写业务
单测的实质是进行断言，所以需要运行结果和预期结果必须要强一致性；如果一个方法依赖于三方的库的结果，那可以说这个方法是不稳定的，也就是说会使单测的作用大打折扣。

在oop编程中，角色的职责必须要明确，不然就很难解耦；

单测不能对系统的本身产生实质性的改变，这样会使得系统不稳定；
也就是说单测不能影响系统；

分层是为了上层可以屏蔽下层的细节，是通过面向对象的方式（聚合，注入底层的对象）来实现的；

单测这里它是面向接口的思想，因此单测的时候直接通过依赖注入一个伪实现（mock）来实现测试的效果。

上面都是关于oop的架构设计的哲学；
而关于耦合第三方库的这个，实际上就是通过mock（设置固定数据）的方式来解耦合。

# 接口（interface）的使用方法
根据Go官方针对interface的review： 不要用producer来定义接口，而是consumer来定义接口；

这样如果要c要使用p的组件，那就直接自己定义接口，里面只有聚焦的重要的方法，这样就实现了轻量化；


# 两个代码脚手架
介绍了gomock和gomonkey
是对应的代码生成工具和其他的。
需要的时候去学会使用它就可以了。

